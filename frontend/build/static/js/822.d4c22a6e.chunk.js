"use strict";(self.webpackChunkopsdata=self.webpackChunkopsdata||[]).push([[822],{1822:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(5043),n=s(3862),a=s(8729),o=s(579);const i=()=>{const[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(""),[c,l]=(0,r.useState)(!1),{token:d}=(0,a.A)();return(0,r.useEffect)((()=>{(async()=>{l(!0);try{const e=await(0,n.Si)(d);t(e.data),i("")}catch(s){console.error("Error fetching files:",s),i("Failed to load files. Please try again later.")}finally{l(!1)}})()}),[d]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Files"}),c?(0,o.jsx)("p",{children:"Loading files..."}):s?(0,o.jsx)("p",{children:s}):(0,o.jsx)("ul",{children:e.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:e.downloadLink,target:"_blank",rel:"noopener noreferrer",children:e.fileName})},e.id)))})]})},c=()=>{const[e,t]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=localStorage.getItem("jwtToken");t(e)}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Download Files"}),(0,o.jsx)(i,{token:e})]})}},3862:(e,t,s)=>{s.d(t,{HF:()=>u,Si:()=>c,ff:()=>d,iD:()=>i,od:()=>l,uJ:()=>f});var r=s(854),n=s.n(r),a=s(5963);const o=n().create({baseURL:"/api"});o.interceptors.request.use((async e=>{const t=(0,a.gf)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const i=e=>o.post("/login",e),c=()=>o.get("/files"),l=()=>o.get("/customers"),d=e=>o.post("/customers",e),u=()=>o.get("/version"),f=e=>o.post("/create-link",e)}}]);
//# sourceMappingURL=822.d4c22a6e.chunk.js.map