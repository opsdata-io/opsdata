"use strict";(self.webpackChunkopsdata=self.webpackChunkopsdata||[]).push([[749],{7749:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var n=s(5043),r=s(3216),a=s(5963),i=s(579);const d=e=>{let{token:t}=e;const s=(0,r.Zp)(),[d,l]=(0,n.useState)({companyName:"",address:"",notes:"",subscriptionStatus:""}),[c,o]=(0,n.useState)(null),h=e=>{const{name:t,value:s}=e.target;l({...d,[t]:s})};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Customer Management"}),(0,i.jsx)("h3",{children:"Add Customer"}),c&&(0,i.jsx)("div",{style:{color:"red"},children:c})," ",(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=t||(0,a.gf)();try{const e=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(d)});if(e.ok){const t=await e.json();console.log("New customer:",t),s("/customer/".concat(t.id))}else{const t=await e.json();o(t.error)}}catch(c){console.error("Error creating customer:",c),o("Failed to create customer. Please try again.")}},children:[(0,i.jsx)("table",{style:{width:"100%"},children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{textAlign:"right",paddingRight:"1rem"},children:(0,i.jsx)("label",{children:"Company Name:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"companyName",value:d.companyName,onChange:h,required:!0})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{textAlign:"right",paddingRight:"1rem"},children:(0,i.jsx)("label",{children:"Address:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"address",value:d.address,onChange:h,required:!0})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{textAlign:"right",paddingRight:"1rem"},children:(0,i.jsx)("label",{children:"Subscription Status:"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",name:"subscriptionStatus",value:d.subscriptionStatus,onChange:h,required:!0})})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{style:{textAlign:"center",paddingRight:"1rem"},colSpan:2,children:(0,i.jsx)("label",{children:"Notes:"})})}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{style:{textAlign:"center",paddingRight:"1rem"},colSpan:2,children:(0,i.jsx)("textarea",{name:"notes",value:d.notes,onChange:h,rows:"4"})})})]})}),(0,i.jsx)("button",{type:"submit",style:{marginTop:"1rem"},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=749.39f99992.chunk.js.map