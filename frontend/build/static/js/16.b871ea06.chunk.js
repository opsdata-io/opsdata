"use strict";(self.webpackChunkopsdata=self.webpackChunkopsdata||[]).push([[16],{3016:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(5043),c=s(5475),a=s(579);const l=e=>{let{token:t}=e;const[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)([]),[d,i]=(0,r.useState)(!1),[h,p]=(0,r.useState)("");return(0,a.jsxs)("div",{style:{marginTop:"20px",marginLeft:"20px"},children:[(0,a.jsx)("h2",{children:"Customers"}),(0,a.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),p("");try{const e=await fetch("/api/customers/search?q=".concat(encodeURIComponent(s)),{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw new Error("Failed to fetch search results");{const t=await e.json();o(t)}}catch(h){console.error("Failed to fetch search results",h),p("Failed to fetch search results. Please try again.")}finally{i(!1)}},style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsx)("input",{type:"text",id:"searchQuery",value:s,onChange:e=>{l(e.target.value)},required:!0,style:{marginRight:"0.5rem"}}),(0,a.jsx)("button",{type:"submit",disabled:d,children:"Search"})]}),d&&(0,a.jsx)("p",{children:"Searching..."}),h&&(0,a.jsx)("div",{style:{color:"red"},children:h}),(0,a.jsx)("div",{children:0!==n.length||d?(0,a.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%",border:"1px solid #ccc"},children:[(0,a.jsx)("thead",{style:{backgroundColor:"#f2f2f2"},children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"Company Name"})})}),(0,a.jsx)("tbody",{children:n.map((e=>(0,a.jsx)("tr",{style:{border:"1px solid #ccc"},children:(0,a.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:(0,a.jsx)(c.N_,{to:"/customer/".concat(e.id),children:e.companyName})})},e.id)))})]}):(0,a.jsx)("p",{children:"No results found"})})]})}}}]);
//# sourceMappingURL=16.b871ea06.chunk.js.map